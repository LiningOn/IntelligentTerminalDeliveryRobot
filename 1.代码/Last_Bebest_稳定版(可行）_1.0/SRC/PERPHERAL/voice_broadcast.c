#include "include.h"

//0xAA为起始码  起始码-指令类型-数据长度（ n） -数据 1－数据 n－和检验(SM)
//为之前所有字节之和的低 8 位,即起始码到数据相加后取低 8 位

/*   
指定曲目(07)
指令： AA 07 02 曲目高 曲目低 SM
返回：无
例如: AA 07 02 00 08 BB 指定播放当前盘符第 8 首，曲目数从 1－ 65535
曲目序号是由存储顺序决定。
*/

/*   
播放(02)
指令： AA 02 00 AC
返回：无
说明：在任何时候发此命令都会从头开始播放当前曲目
*/

u8 Next_song[4] = {0xAA,0x06,0x00,0xB0};  
u8 Last_song[4] = {0xAA,0x05,0x00,0xAF};  
u8 DATA[5] = {0xAA,0x18,0x01,0x02,0xC5};   //循环模式
u8 voice_1[6] = {0xAA,0x07,0x02,0x00,0x01,0xB4};   //
u8 voice_2[6] = {0xAA,0x07,0x02,0x00,0x02,0xB5};
u8 voice_3[6] = {0xAA,0x07,0x02,0x00,0x03,0xB6};
u8 voice_4[6] = {0xAA,0x07,0x02,0x00,0x04,0xB7};
u8 voice_5[6] = {0xAA,0x07,0x02,0x00,0x05,0xB8};
u8 voice_6[6] = {0xAA,0x07,0x02,0x00,0x06,0xB9};
u8 voice_7[6] = {0xAA,0x07,0x02,0x00,0x07,0xBA};
u8 voice_8[6] = {0xAA,0x07,0x02,0x00,0x08,0xBB}; //指定曲目
u8 voice_9[6] = {0xAA,0x07,0x02,0x00,0x09,0xBC};
u8 voice_10[6] = {0xAA,0x07,0x02,0x00,0x0a,0xBD};
u8 voice_11[6] = {0xAA,0x07,0x02,0x00,0x0b,0xBE};

u8 open[4] = {0xAA,0x02,0x00,0xAC};  
u8 stop[4] = {0xAA,0x03,0x00,0xAD};  //暂停

void Send_data(int num,u8 *Data)
{
	  u8 t;
	   for(t=0;t<num;t++)
		{
				USART_SendData(USART1, Data[t]);         //向串口2发送数据
				while(USART_GetFlagStatus(USART1,USART_FLAG_TC)!=SET);//等待发送结束
		}
}

//播报：扫描完成，请装入1号物料，并关闭仓门
//		delay_ms(50);	
//		Send_data(6,voice_1);  

//播报：扫描完成，请装入2号物料，并关闭仓门
//		delay_ms(50);
//	  Send_data(6,voice_2);

//播报：到达1号收货点，请出示提货码
//		delay_ms(50);
//		Send_data(6,voice_3);

//播报：到达2号收货点，请出示提货码
//		delay_ms(50);
//		Send_data(6,voice_4);

//播报：请取出1号物料，并关闭仓门
//		delay_ms(50);
//		Send_data(6,voice_5);

//播报：请取出2号物料，并关闭仓门
//		delay_ms(50);		
//		Send_data(6,voice_6);




